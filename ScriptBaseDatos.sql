
ALTER DATABASE [FinandinaTestDb] SET ANSI_NULL_DEFAULT OFF 
GO
ALTER DATABASE [FinandinaTestDb] SET ANSI_NULLS OFF 
GO
ALTER DATABASE [FinandinaTestDb] SET ANSI_PADDING OFF 
GO
ALTER DATABASE [FinandinaTestDb] SET ANSI_WARNINGS OFF 
GO
ALTER DATABASE [FinandinaTestDb] SET ARITHABORT OFF 
GO
ALTER DATABASE [FinandinaTestDb] SET AUTO_CLOSE OFF 
GO
ALTER DATABASE [FinandinaTestDb] SET AUTO_SHRINK OFF 
GO
ALTER DATABASE [FinandinaTestDb] SET AUTO_UPDATE_STATISTICS ON 
GO
ALTER DATABASE [FinandinaTestDb] SET CURSOR_CLOSE_ON_COMMIT OFF 
GO
ALTER DATABASE [FinandinaTestDb] SET CURSOR_DEFAULT  GLOBAL 
GO
ALTER DATABASE [FinandinaTestDb] SET CONCAT_NULL_YIELDS_NULL OFF 
GO
ALTER DATABASE [FinandinaTestDb] SET NUMERIC_ROUNDABORT OFF 
GO
ALTER DATABASE [FinandinaTestDb] SET QUOTED_IDENTIFIER OFF 
GO
ALTER DATABASE [FinandinaTestDb] SET RECURSIVE_TRIGGERS OFF 
GO
ALTER DATABASE [FinandinaTestDb] SET  DISABLE_BROKER 
GO
ALTER DATABASE [FinandinaTestDb] SET AUTO_UPDATE_STATISTICS_ASYNC OFF 
GO
ALTER DATABASE [FinandinaTestDb] SET DATE_CORRELATION_OPTIMIZATION OFF 
GO
ALTER DATABASE [FinandinaTestDb] SET TRUSTWORTHY OFF 
GO
ALTER DATABASE [FinandinaTestDb] SET ALLOW_SNAPSHOT_ISOLATION OFF 
GO
ALTER DATABASE [FinandinaTestDb] SET PARAMETERIZATION SIMPLE 
GO
ALTER DATABASE [FinandinaTestDb] SET READ_COMMITTED_SNAPSHOT OFF 
GO
ALTER DATABASE [FinandinaTestDb] SET HONOR_BROKER_PRIORITY OFF 
GO
ALTER DATABASE [FinandinaTestDb] SET RECOVERY FULL 
GO
ALTER DATABASE [FinandinaTestDb] SET  MULTI_USER 
GO
ALTER DATABASE [FinandinaTestDb] SET PAGE_VERIFY CHECKSUM  
GO
ALTER DATABASE [FinandinaTestDb] SET DB_CHAINING OFF 
GO
ALTER DATABASE [FinandinaTestDb] SET FILESTREAM( NON_TRANSACTED_ACCESS = OFF ) 
GO
ALTER DATABASE [FinandinaTestDb] SET TARGET_RECOVERY_TIME = 60 SECONDS 
GO
ALTER DATABASE [FinandinaTestDb] SET DELAYED_DURABILITY = DISABLED 
GO
EXEC sys.sp_db_vardecimal_storage_format N'FinandinaTestDb', N'ON'
GO
ALTER DATABASE [FinandinaTestDb] SET QUERY_STORE = OFF
GO
USE [FinandinaTestDb]
GO
/****** Object:  Table [dbo].[__MigrationHistory]    Script Date: 09/06/2021 16:38:15 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[__MigrationHistory](
	[MigrationId] [nvarchar](150) NOT NULL,
	[ContextKey] [nvarchar](300) NOT NULL,
	[Model] [varbinary](max) NOT NULL,
	[ProductVersion] [nvarchar](32) NOT NULL,
 CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY CLUSTERED 
(
	[MigrationId] ASC,
	[ContextKey] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO
/****** Object:  Table [dbo].[BankTransactions]    Script Date: 09/06/2021 16:38:15 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[BankTransactions](
	[Id] [uniqueidentifier] NOT NULL,
	[IdAccountOrigin] [uniqueidentifier] NOT NULL,
	[IdAccountDestinity] [uniqueidentifier] NOT NULL,
	[Date] [datetime] NOT NULL,
	[Value] [decimal](18, 2) NOT NULL,
 CONSTRAINT [PK_dbo.BankTransactions] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[ClientAccounts]    Script Date: 09/06/2021 16:38:15 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[ClientAccounts](
	[Id] [uniqueidentifier] NOT NULL,
	[ClientId] [uniqueidentifier] NOT NULL,
	[AccountNro] [nvarchar](max) NULL,
	[Balance] [decimal](18, 2) NOT NULL,
 CONSTRAINT [PK_dbo.ClientAccounts] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Clients]    Script Date: 09/06/2021 16:38:15 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Clients](
	[Id] [uniqueidentifier] NOT NULL,
	[Identification] [nvarchar](max) NULL,
	[Name] [nvarchar](max) NULL,
	[BankName] [nvarchar](max) NULL,
 CONSTRAINT [PK_dbo.Clients] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO
INSERT [dbo].[__MigrationHistory] ([MigrationId], [ContextKey], [Model], [ProductVersion]) VALUES (N'202106091858229_Initial', N'DAL.Migrations.Configuration', 0x1F8B0800000000000400ED5B5F6FDB36107F1FB0EF20E8691B522BC95EBAC06EE1DA49112C898B3829F6163012ED10A52895A4021BC33ED91EF691F61576B2FE939645C98E93B4438142A6783FDE1D7F3C1E79CABF7FFFD37FBFF0A9F588B920011BD847BD43DBC2CC0D3CC2E6033B92B3376FEDF7EF7EFCA17FEAF90BEB73D6EFD7B81F483231B01FA40C4F1C47B80FD847A2E71397072298C99E1BF80EF202E7F8F0F037E7E8C8C10061039665F5AF2326898F573FE0E728602E0E6584E865E0612AD27678335DA15A57C8C722442E1ED8E3E1856D0D294130F414D3996D21C60289242876722BF054F280CDA72134207AB30C31F49B212A70AAF049D1DD54F7C3E35877A710CCA0DC48C8C06F0978F46BEA0C4715EFE4523B7716B8EB14DC2A97B1D52B970DEC0F887DB9E18809E42623A8639E8C288FFBAF1CDB4BDCDF53A40E2C787790CF3E9024FE77608D222A238E070C4792237A607D8AEE29717FC7CB9BE00B660316515A560F148477950668FAC4831073B9BCC6B354E973CFB69CAA9CA30AE6622599C48E8F1181E72B181BDD539C4FBED3203E74DD005839E1644ED86EB0C65848C26042B6821B23893380F8F906164E6B90CF8846050A76898FA86D7DE2F094AEFCB7B63575510C78DC8C7E851EC97CC51F651CDDF26B4C571DC503099315ABD2EB4E173AE3817F1D509DC05ADFBB69107137362D3014B8417C8E656B93326298DB9349341A937434B524EDBDCE8CBE5304808D61614409663205148651A12AF41D0485C4E02D41527F5DF12083811D0A7657DBBA448B0BCCE6F26160C323F0842CB097B5A4D8B78CC0660C4292478D437D401431771FCB3CF1CCDAC590BC127705B90AFEABEF72126794D73A646B620B96B7A3F7F7C0EB730F0C2533E2A659C713D332FE7F0FDC675F9E66A0A68D416CBF0CD4C85FBB4E4C96C15088C0252B7DAAEBA0D0A56AE029F3AC26C5129F960C03CFC28220212C01D001028BAD527DC2C6986289ADA19BE4C623245CE4E90E063B3C638DF288A16A5438BAAAD82FDA78B0F6308F5700A270F010B09A0993FA4225CC2521A20DAE51E40C97786C753E82FA668C43CCE225DAE00393A18B2D4C57201F47998E26FFF49D12C53633AF31D3AB9B77F3B4AFE08176D66922428BE15AD36EA7EBA113634D6DDA03834D67D34C15FDB8F092B89D66FD2D99A61E019E92D5CA01E2F553BA6AD0F3F1B93A89ADC89C9D15F7C0E4246B001909129897D81CB7E1855C932FDF0A9CA6CC22CD9254CEC598532CEBAE9D8A54A58ED61A8BAB882A353540B583115E3D908E5072A706534AF34ADDEA5241758E0D12B05CFD92E61A570CD2260DA7D6614ED55E035F345FEBE8BE699720744B114A3637B0AE5B4EF00C3ECDC285B143D7ED4A1DF6A5DDBA52D98876E1C7EC509487B7A294E024B584ACE6E0D4141DFA97280CE1E8582A42A42DD634A9408CDE4CDBDFD4FB0986E38A3517F6B9B6F94832E0688E95B73034687A46B8906324D13D8A0FAF23CFD7BA9583794D18CC465A1FAFF5A9CC826426173FA7F7D3C30B2D9AEB7B5F2A770666F9F1461A5B8837D0494358158310457CCD5DC828A091CFEAB7F64DD2CA8AAA4235ECCE06B8A5E8B7167A43165B8F9E9404CA78498B39425A0F2843A44D3A46DF51264FCB51347A68D95F9575469C5462405B4A6E1637606413C0D310B238B09731EA8FF1F548E58BE73256B9DD1C2DBF5B2E43E58D2F8C345DD9D29D267BE3877A775B45AABE33474D6E4ECB58494B1B7E64F7AF558264AD7B66889607A85DF2D1F37C40D9F7FBE91EDCFC4582B629275DE2BA4BF048BC78439E2E85C47E2FEED09B7EA559F924EB70891899C146905412ECE3C3A363E51B8797F3BD81238447DB7D74B0F7AA48C4C8D70893743960BEABCF01745CEDA47C0E67F5C5C0FE730574629DFF71A7601D58130E537E621D5A7FEDF0D382ED54CBE1B6D2AEFCA58207CF72EB2F15BCED4A985DEBE1AF8FB06AA9BA131D3290AD48A0D7BBD923E2EE03E23FF968F17319AF434D7BBF84788D4C585FDCDD6A0ECA75D52D27B35AA46D01F674D5CE67AF6E16D71CCF54D4DC5F1173C371ECDBA95D769ED52762997653B74D75690B9EB59AFCDD5668BE87CAE2FFB47BE5B47BF61AA07EBBBCF32A5F7234863CEE3E4E0F93CD5EE9645ABB6B510B5C37EAEEEB85F5A33C6B31B163F15075EF375133EC6CDAE6C8665E167BC925C097EC9C16753DFDDE0E0265E9EF8D20680B322F20E2BF3E62D8AD84C8BCCF399B0559C85634CABA28679C4B2C9107F173C8E1140676C26B170BB1FA187575B731B04FFD7BEC9DB34924C34882C9D8BFA7955C238EF89BC65F152FAB3AF727E12A78EEC2045093C4F73713F62122D4CBF53E5B73A0AE8188B7928F18DA93B9849D49E2F93247BA0A982150EABE7C07BCC17E48014C4CD8143DE22EBADD0A7C81E7C85D66D7AFF520CD1351757B7F4CD09C235FA418853CFC040E7BFEE2DD7F122626C776370000, N'6.4.4')
GO
INSERT [dbo].[BankTransactions] ([Id], [IdAccountOrigin], [IdAccountDestinity], [Date], [Value]) VALUES (N'9892d47c-080b-4441-a90a-14191507fbec', N'3bd1c3b9-bb70-4db6-ba22-8d52f6b9869e', N'e80336be-1460-4ad2-98dc-a1dddd7be33f', CAST(N'2021-06-09T16:29:45.450' AS DateTime), CAST(80000.00 AS Decimal(18, 2)))
GO
INSERT [dbo].[BankTransactions] ([Id], [IdAccountOrigin], [IdAccountDestinity], [Date], [Value]) VALUES (N'bea2698e-e8d0-412d-a283-38839ac2e202', N'3bd1c3b9-bb70-4db6-ba22-8d52f6b9869e', N'aa65d898-3ba5-4226-af3d-b10ab21c4dc9', CAST(N'2021-06-09T15:57:27.857' AS DateTime), CAST(35000.00 AS Decimal(18, 2)))
GO
INSERT [dbo].[BankTransactions] ([Id], [IdAccountOrigin], [IdAccountDestinity], [Date], [Value]) VALUES (N'496c6dd4-02cd-4940-910d-8444e6f3ba85', N'3bd1c3b9-bb70-4db6-ba22-8d52f6b9869e', N'3bd1c3b9-bb70-4db6-ba22-8d52f6b9869e', CAST(N'2021-06-09T14:47:33.807' AS DateTime), CAST(20000.00 AS Decimal(18, 2)))
GO
INSERT [dbo].[BankTransactions] ([Id], [IdAccountOrigin], [IdAccountDestinity], [Date], [Value]) VALUES (N'60fb931e-70cf-4e69-8e75-90b7d76858a3', N'aa65d898-3ba5-4226-af3d-b10ab21c4dc9', N'3bd1c3b9-bb70-4db6-ba22-8d52f6b9869e', CAST(N'2021-06-09T14:47:22.127' AS DateTime), CAST(20000.00 AS Decimal(18, 2)))
GO
INSERT [dbo].[BankTransactions] ([Id], [IdAccountOrigin], [IdAccountDestinity], [Date], [Value]) VALUES (N'9398796a-6b2b-4b71-85ad-9b7adbeedf27', N'3bd1c3b9-bb70-4db6-ba22-8d52f6b9869e', N'aa65d898-3ba5-4226-af3d-b10ab21c4dc9', CAST(N'2021-06-09T16:01:00.773' AS DateTime), CAST(25000.00 AS Decimal(18, 2)))
GO
INSERT [dbo].[BankTransactions] ([Id], [IdAccountOrigin], [IdAccountDestinity], [Date], [Value]) VALUES (N'58a20772-c790-429e-b999-e37884bef7e5', N'3bd1c3b9-bb70-4db6-ba22-8d52f6b9869e', N'aa65d898-3ba5-4226-af3d-b10ab21c4dc9', CAST(N'2021-06-09T14:46:18.070' AS DateTime), CAST(20000.00 AS Decimal(18, 2)))
GO
INSERT [dbo].[ClientAccounts] ([Id], [ClientId], [AccountNro], [Balance]) VALUES (N'3bd1c3b9-bb70-4db6-ba22-8d52f6b9869e', N'06b534cf-927c-4f60-8b57-0b8c1be1a450', N'7899887', CAST(880000.00 AS Decimal(18, 2)))
GO
INSERT [dbo].[ClientAccounts] ([Id], [ClientId], [AccountNro], [Balance]) VALUES (N'e80336be-1460-4ad2-98dc-a1dddd7be33f', N'06b534cf-927c-4f60-8b57-0b8c1be1a450', N'8899987', CAST(80000.00 AS Decimal(18, 2)))
GO
INSERT [dbo].[ClientAccounts] ([Id], [ClientId], [AccountNro], [Balance]) VALUES (N'aa65d898-3ba5-4226-af3d-b10ab21c4dc9', N'6d43c907-0e48-478a-87a1-4c668c476586', N'8898877', CAST(540000.00 AS Decimal(18, 2)))
GO
INSERT [dbo].[Clients] ([Id], [Identification], [Name], [BankName]) VALUES (N'06b534cf-927c-4f60-8b57-0b8c1be1a450', N'654321', N'Juan Perez', N'Finandina')
GO
INSERT [dbo].[Clients] ([Id], [Identification], [Name], [BankName]) VALUES (N'6d43c907-0e48-478a-87a1-4c668c476586', N'123456', N'Andres Acosta', N'BBVA')
GO
/****** Object:  Index [IX_IdAccountDestinity]    Script Date: 09/06/2021 16:38:15 ******/
CREATE NONCLUSTERED INDEX [IX_IdAccountDestinity] ON [dbo].[BankTransactions]
(
	[IdAccountDestinity] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
GO
/****** Object:  Index [IX_IdAccountOrigin]    Script Date: 09/06/2021 16:38:15 ******/
CREATE NONCLUSTERED INDEX [IX_IdAccountOrigin] ON [dbo].[BankTransactions]
(
	[IdAccountOrigin] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
GO
/****** Object:  Index [IX_ClientId]    Script Date: 09/06/2021 16:38:15 ******/
CREATE NONCLUSTERED INDEX [IX_ClientId] ON [dbo].[ClientAccounts]
(
	[ClientId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
GO
ALTER TABLE [dbo].[BankTransactions]  WITH CHECK ADD  CONSTRAINT [FK_dbo.BankTransactions_dbo.ClientAccounts_IdAccountDestinity] FOREIGN KEY([IdAccountDestinity])
REFERENCES [dbo].[ClientAccounts] ([Id])
GO
ALTER TABLE [dbo].[BankTransactions] CHECK CONSTRAINT [FK_dbo.BankTransactions_dbo.ClientAccounts_IdAccountDestinity]
GO
ALTER TABLE [dbo].[BankTransactions]  WITH CHECK ADD  CONSTRAINT [FK_dbo.BankTransactions_dbo.ClientAccounts_IdAccountOrigin] FOREIGN KEY([IdAccountOrigin])
REFERENCES [dbo].[ClientAccounts] ([Id])
GO
ALTER TABLE [dbo].[BankTransactions] CHECK CONSTRAINT [FK_dbo.BankTransactions_dbo.ClientAccounts_IdAccountOrigin]
GO
ALTER TABLE [dbo].[ClientAccounts]  WITH CHECK ADD  CONSTRAINT [FK_dbo.ClientAccounts_dbo.Clients_ClientId] FOREIGN KEY([ClientId])
REFERENCES [dbo].[Clients] ([Id])
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[ClientAccounts] CHECK CONSTRAINT [FK_dbo.ClientAccounts_dbo.Clients_ClientId]
GO
USE [master]
GO
ALTER DATABASE [FinandinaTestDb] SET  READ_WRITE 
GO
